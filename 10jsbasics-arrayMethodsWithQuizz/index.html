<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta autor="Maciej Tomaszewski">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta keywords="JS,Js,js,promise,Promise,Promises">
    <meta description="Learn about promises">
    <title>Array Methods</title>
    <style>
        :root{
            font-size: 10px;
            font-family: sans-serif;
        }
        body{
            margin: 0;
            padding: 0;
        }
        .Body-Inner{
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .Header{
            width: 100vw;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .Header-Title{
            font-weight: 400;
            font-size: 2.5rem;
        }
        .Main{
            width: 100vw;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .Main-Article{
            width: 400px;
            height: 200px;
            display: inherit;
            align-items: inherit;
            justify-content: inherit;
            flex-direction: column;
        }
        .Main-Title{
            font-size: 1.7rem;
        }
        .Main-ForeachList{
            padding: 0;
        }
        .Main-Name{
            transition: 1s;
            cursor: pointer;
            list-style-type: none;
            text-align: center;
        }
        .Main-Name:hover{
            color: purple;
            cursor: pointer;
        }
        .Main-Name_clicked{
            transition: 1s;
            font-weight: bold;
            font-size: 2rem;
            color: purple;
        }
        .Main-AppBtn{
            transition: 0.4s ease-in-out;
            margin-top: 15px;
            border-radius: 3px;
            border: 1px solid black;
            width: 50px;
            height: 25px;
            background: white;
        }
        .Main-AppBtn:hover{
            transition: 0.4s ease-in-out;
            background-color: black;
            color: white;
            cursor: pointer;
        }

        /* QUIZ APP */

        .MainApp{
            display: none;
            width: 60vw;
            height: 300px;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            box-shadow: 0px 0px 5px 2px black;
            border-radius: 10px;
        }
            .MainApp_animation{
                animation-name: opacity;
                animation-duration: 3s;
                animation-iteration-count: 1;
            }
            @keyframes opacity {
                from{
                    opacity: 0;
                }to{
                    opacity: 1;
                }
            }
        .MainApp-TitleBox{
            display: flex;
            align-items: center;
            justify-content: center;
            width: inherit;
            height: 100px;
        }
        .MainApp-Title{
            display: inline;
            font-size: 4rem;
            text-align: center;
        }
        .MainApp-QuestionBox{
            width: inherit;
            height: 100px;
            display: inherit;
            align-items: inherit;
            justify-content: inherit;
        }
        .MainApp-Question{
            cursor: pointer;
            display: inline;
            font-size: 2rem;
        }
        .MainApp-AnswerBox{
            width: 60vw;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: space-evenly;
            flex-direction: row;
        }
        .MainApp-Answer1Box{
            height: 100px;
            width: calc(50vw/4);
            display: inherit;
            align-items: inherit;
            justify-content: center;
        }
        .MainApp-Answer2Box{
            height: 100px;
            width: calc(50vw/4);
            display: inherit;
            align-items: inherit;
            justify-content: center;
        }
        .MainApp-Answer3Box{
            height: 100px;
            width: calc(50vw/4);
            display: inherit;
            align-items: inherit;
            justify-content: center;
        }
        .MainApp-Answer4Box{
            height: 100px;
            width: calc(50vw/4);
            display: inherit;
            align-items: inherit;
            justify-content: center;
        }
        .MainApp-Result{
            display: none;
            flex-direction: column;
        }
        .MainApp-AnswerBtn{
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            transition: 0.2s;
            width: 11vw;
            height: 60px;
            border: 1px solid black;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0px 0px 3px 1px black;
            cursor: pointer;
        }
        .MainApp-AnswerBtn:hover{
            transition: 0.1s;
            box-shadow: 0px 0px 0px black, 0px 0px 3px 1px inset black;
        }
        .MainApp-Restart{
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="Body-Inner">
        <header class="Header">
            <h2 class="Header-Title">Array Methods</h2>
        </header>
        <main class="Main">
            <article class="Main-Article">
                <p class="Main-Title">Watch Console</p>

                <ul class="Main-ForeachList">

                </ul>
                <button class="Main-AppBtn">Quiz</button>
            </article>
        </main>
        <main class="MainApp">
            <header class="MainApp-TitleBox">
                <p class="MainApp-Title">QUIZ!</p> 
            </header>
            <article class="MainApp-AnswerBox">
                <section class="MainApp-Answer1Box">
                    <div class="MainApp-AnswerBtn MainApp-AnswerBtn1"></div>
                </section>
                <section class="MainApp-Answer2Box">
                    <div class="MainApp-AnswerBtn MainApp-AnswerBtn2"></div>
                </section>
                <section class="MainApp-Answer3Box">
                    <div class="MainApp-AnswerBtn MainApp-AnswerBtn3"></div>
                </section>
                <section class="MainApp-Answer4Box">
                    <div class="MainApp-AnswerBtn MainApp-AnswerBtn4"></div>
                </section>
                <section class="MainApp-Result">
                    <ul class="MainApp-ResultList"></ul>
                </section>
            </article>
            <article class="MainApp-QuestionBox">
                <p class="MainApp-Question">START</p>
            </article>
        </main>
    </div>
    <script>
// 1) basic methods

        const myarray = [1,2,3,4,5];

    // add and delete indexes !! changing existing array
        // pop / push

        myarray.pop(); // delete last index

        myarray.push('Maciej'); // add last index 

        // shift / unshift
        myarray.pop(); // delete again

        myarray.shift(); // delete first index 
        
        myarray.unshift('Maciej'); // add first index to array
        
        console.log(myarray); 

    // combine arrays
        // concat -> allows you to combine arrays 

            let array1 = ['dog', 'cat', 'goose'];

            console.log(array1);

            let array2 = ['elephant', 'giraffe'];

            console.log(array2);

            let combineArrays = [].concat(array1, array2, ['COMBINED']);

            console.log(combineArrays);
            console.log(`Here is array displayed like on site -> ${combineArrays}, we want to add spaces between indexes`);
        // join -> allows you to insert something between indexes in string
            console.log(`Use method join for that -> ${combineArrays.join(', ')}`);

    //excercise   
        let separate = [];
        function separateLine(i, lines){
            if(i==lines){
                
            }else{
                separate.push('-');
                return separateLine(i+1, lines);
            }
        }
        console.log(separateLine(0, 70));
        console.log(`${separate.join('')}`)
// 2) More methods
        // slice -> allows you to exploit some of array by creating new array with those parameters

            arraySlice = [1,2,3,4,5,6,7,8];
            console.log(arraySlice.slice(2,6));
            // slice(begin, arrayLength)


        // splice -> allows you to delete indexes after index passed in first argument. Splice is modyfying main function and returns deleted elements.
            // splice(begin, how much elements to delete, item to insert )
            arraySplice = [1,2,3,4,5,6,7,8];
            arraySplice.splice(5,0, ...['Maciej', 'tomaszewski']); 
            console.log(arraySplice);

        // excercise

            let separate2 = [];
            separate2.splice(0,0,...['    YO']);
            console.log(`${separate2.join('')}`)

        // foreach 


            let arrayForeach = [1,2,3,4,5,6,7,8];

            arrayForeach.forEach((element, index) => {
                console.log(`${element}  ${index} `);
            });

            const list = document.querySelector('.Main-ForeachList');
            const listArray = ['Item1','Item2', 'Item3'];

            listArray.forEach((name, index) =>{
                let nameDom = document.createTextNode(name);
                li = document.createElement('li');
                li.classList.add(`Main-Name${index}`, `Main-Name`);
                li.appendChild(nameDom);
                list.appendChild(li);
            });

            const listArrayclick = document.querySelectorAll('li');

            listArrayclick.forEach((e)=>{
                e.addEventListener('click', (e) => {
                   listArrayclick.forEach(element =>{
                       element.classList.remove('Main-Name_clicked');
                   })
                    e.target.classList.add('Main-Name_clicked');
                });
                
            });
            console.log(listArrayclick);

// 3) Last methods
            const shoppingItems = [
                {
                    name: 'Meat',
                    price: 15.5,
                    category: 'food',
                    quantity: 2,
                },
                {
                    name: 'Soap',
                    price: 2.99,
                    category: 'cosmetics',
                    quantity: 1,
                },
                {
                    name: 'Carrots',
                    price: 1.25,
                    category: 'food',
                    quantity: 6,
                },
                {
                    name: 'Shampoo',
                    price: 10.23,
                    category: 'cosmetics',
                    quantity: 2,
                },
                {
                    name: 'Cheese',
                    price: 7.58,
                    category: 'food',
                    quantity: 1,
                },

            ];
            console.log(shoppingItems);
        // filter -> allows you to create array of main array based on given condition
            const afterFilter = shoppingItems.filter((element) => element.category == "food");
            console.log(afterFilter);
        
        // find -> gives you just first found value

                console.log(shoppingItems.find((element)=>{
                    return element.quantity === 2;
                }));
        // map -> you can just map all elements here

                const finalResultMap = shoppingItems.map((element) =>{
                    return `${element.name} | ${element.price}`;
                });
                console.log(finalResultMap);
        // reduce -> reduce(acc, element, index, src)

                const finalPrice = shoppingItems.reduce((final,element) => {
                    return final+element.price;
                }, 0);
                console.log(`Final Price IS: ${finalPrice.toFixed(2)}`);

        // priceOfCosmetics 
                
                const priceOfCosmetics = shoppingItems.filter((element) => {
                    return element.category === 'cosmetics';
                }).reduce((priceA, elem) =>{
                    return priceA + elem.price;
                },0)
                console.log(`Price for cosmetics equal: ${priceOfCosmetics}`);

        /* summary
            1) basic methods
                - .pop - delete last index
                - .push - add element to last index
                - .shift - delete first index
                - .unshift - add element to first index
                - .concat - combine arrays
                - .join - insert something between elements
            2) next methods
                - .slice - cuts indexes from array
                - .splice - cuts indexes from a to end and add new if you want, or cut from a to b
                - foreach - loop via array passing index and elements
            3) last methods
                - .filter - as name says, filter via array giving indexes based on condition with elements
                - .find - finds first and only one element in array matching criteria
                - .map - mapping array and creating new one based on condition
                - reduce - has accumulator which gives opportunity to adding elements and manipulate them inside 
        */
        console.log('________________________________________________________________________________');
        // Create a fast quiz app using new knowledge//
    
            const AppBtn = document.querySelector('.Main-AppBtn');
            AppBtn.addEventListener('click', () => {
                const Main = document.querySelector('.Main');
                const Header = document.querySelector('.Header');
                Main.style = "display: none";
                Header.style = "display: none";
                const MainApp = document.querySelector('.MainApp');
                MainApp.style.display = "flex";
                MainApp.classList.add(`MainApp_animation`);
            });
            class Answers{
                constructor(id, answerDone){
                    this.id = id;
                    this.answerDone = answerDone;
                }
            }
            const questionData = [
                {
                    question_id: 1,
                    question: '2*2',
                    answer1: [6,false],
                    answer2: [7, false],
                    answer3: [4, true],
                    answer4: [3, false],
                },
                {
                    question_id: 2,
                    question: 'Delete Last index in array',
                    answer1: ['.push()', false],
                    answer2: ['.pop()', true],
                    answer3: ['.concat', false],
                    answer4: ['.shift', false],
                },
                {
                    question_id: 3,
                    question: '3*3',
                    answer1: ['9', true],
                    answer2: ['26', false],
                    answer3: ['4', false],
                    answer4: ['2', false],
                }
            ];

            let QuestionBtn= document.querySelector('.MainApp-Question');
            QuestionBtn.addEventListener('click', START); 
            
            function START(){
                

                QuestionBtn.innerHTML = questionData[0].question;
                let answer = document.querySelectorAll('.MainApp-AnswerBtn');
                let answer0 = document.querySelector('.MainApp-AnswerBtn1');
                let answer1 = document.querySelector('.MainApp-AnswerBtn2');
                let answer2 = document.querySelector('.MainApp-AnswerBtn3');
                let answer3 = document.querySelector('.MainApp-AnswerBtn4');

                let finish = 0;
                let questionNumber = 1;
                var questionAnswerData = [];
                question(questionNumber);
                
                //question(questionNumber);
                function question(number){
                    //console.log('/* START OF FUNCTION ')
                    let array = questionData.forEach((element, index) => {
                        //console.log(`FOR EACH ON QUESTION DATA -> ${element.question_id}`);
                        if(number === element.question_id){
                                QuestionBtn.innerHTML = element.question;
                                answer0.innerHTML = element.answer1[0];
                                answer1.innerHTML = element.answer2[0];
                                answer2.innerHTML = element.answer3[0];
                                answer3.innerHTML = element.answer4[0];
                                
                                answer0.addEventListener('click', sendAnswer0);
                                answer1.addEventListener('click', sendAnswer1);
                                answer2.addEventListener('click', sendAnswer2);
                                answer3.addEventListener('click', sendAnswer3);
                                function sendAnswer0(){
                                    if(element.answer1[1] === false){
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer1[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }else{
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer1[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }
                                    //console.log('hej');
                                    answer0.removeEventListener("click", sendAnswer0);
                                    answer1.removeEventListener("click", sendAnswer1);
                                    answer2.removeEventListener("click", sendAnswer2);
                                    answer3.removeEventListener("click", sendAnswer3);
                                };
                                function sendAnswer1(){
                                    if(element.answer2[1] === false){
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer2[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }else{
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer2[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }
                                    //console.log('hej');
                                    answer1.removeEventListener("click", sendAnswer1);
                                    answer0.removeEventListener("click", sendAnswer0);
                                    answer2.removeEventListener("click", sendAnswer2);
                                    answer3.removeEventListener("click", sendAnswer3);
                                };
                                function sendAnswer2(){
                                    if(element.answer3[1] === false){
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer3[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }else{
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer3[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }
                                    //console.log('hej');
                                    answer1.removeEventListener("click", sendAnswer1);
                                    answer0.removeEventListener("click", sendAnswer0);
                                    answer2.removeEventListener("click", sendAnswer2);
                                    answer3.removeEventListener("click", sendAnswer3);
                                };
                                function sendAnswer3(){
                                    if(element.answer4[1] === false){
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer4[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }else{
                                        setTimeout(()=>{
                                            let passToAnswerData = new Answers(element.question_id, element.answer4[1]);
                                            questionAnswerData.push(passToAnswerData);
                                            console.log(questionAnswerData);
                                            //console.log(passToAnswerData);
                                            question(number+1);
                                        },200);
                                    }
                                    //console.log('hej');
                                    answer1.removeEventListener("click", sendAnswer1);
                                    answer0.removeEventListener("click", sendAnswer0);
                                    answer2.removeEventListener("click", sendAnswer2);
                                    answer3.removeEventListener("click", sendAnswer3);
                                };

                    }else if(number == questionData[2].question_id+1){
                        if(finish > 0){
                            console.log('FINIT');
                        }else{
                            finish+=1;
                            const MainAppAnswer1Box = document.querySelector('.MainApp-Answer1Box');
                            MainAppAnswer1Box.style = 'display: none;';
                            const MainAppAnswer2Box = document.querySelector('.MainApp-Answer2Box');
                            MainAppAnswer2Box.style = 'display: none;';
                            const MainAppAnswer3Box = document.querySelector('.MainApp-Answer3Box');
                            MainAppAnswer3Box.style = 'display: none;';
                            const MainAppAnswer4Box = document.querySelector('.MainApp-Answer4Box');
                            MainAppAnswer4Box.style = 'display: none;';
                            QuestionBtn.innerHTML = "Quiz Finished";

                            const goodAnswerQuestion1 = questionData[0].answer3[0];
                            const goodAnswerQuestion2 = questionData[1].answer2[0];
                            const goodAnswerQuestion3 = questionData[2].answer1[0];
                            const goodAnswerTrue1 = questionData[0].answer3[1];
                            const goodAnswerTrue2 = questionData[1].answer2[1];
                            const goodAnswerTrue3 = questionData[2].answer1[1];
                            const sectionResult = document.querySelector('.MainApp-Result')
                            sectionResult.style = "display: flex;";
                            const ul = document.querySelector('.MainApp-ResultList');

                            //const goodAnswers = [].concat(goodAnswer1, goodAnswer2, goodAnswer3);
                            //console.log(goodAnswers);
                            if(goodAnswerTrue1 == questionAnswerData[0].answerDone){
                                const li1 = document.createElement('li');
                                li1.classList.add('MainApp-ResultIndex');
                                li1.innerHTML = "Question: "+questionData[0].question_id+" Good Answer ";
                                ul.appendChild(li1);
                            }else{
                                const li1 = document.createElement('li');
                                li1.classList.add('MainApp-ResultIndex');
                                li1.innerHTML = "Question: "+questionData[0].question_id+" Bad Answer, correct is: "+goodAnswerQuestion1;
                                ul.appendChild(li1);
                            }
                            if(goodAnswerTrue2 == questionAnswerData[1].answerDone){
                                const li1 = document.createElement('li');
                                li1.classList.add('MainApp-ResultIndex');
                                li1.innerHTML = "Question: "+questionData[1].question_id+" Good Answer ";
                                ul.appendChild(li1);
                            }else{
                                const li1 = document.createElement('li');
                                li1.classList.add('MainApp-ResultIndex');
                                li1.innerHTML = "Question: "+questionData[1].question_id+" Bad Answer, correct is: "+goodAnswerQuestion2;
                                ul.appendChild(li1);
                            }
                            if(goodAnswerTrue3 == questionAnswerData[2].answerDone){
                                const li1 = document.createElement('li');
                                li1.classList.add('MainApp-ResultIndex');
                                li1.innerHTML = "Question: "+questionData[2].question_id+" Good Answer ";
                                ul.appendChild(li1);
                            }else{
                                const li1 = document.createElement('li');
                                li1.classList.add('MainApp-ResultIndex');
                                li1.innerHTML = "Question: "+questionData[2].question_id+" Bad Answer, correct is: "+goodAnswerQuestion3;
                                ul.appendChild(li1);
                            }
                            const RESTART = document.createElement('div');
                            RESTART.classList.add('MainApp-Restart');
                            RESTART.innerHTML = 'Try again!';
                            RESTART.addEventListener('click', ()=>{
                                location.reload();
                            });
                            sectionResult.appendChild(RESTART);
                            
                            
                           
                            
                            
                            


                        }
                        
                    }
                    QuestionBtn.removeEventListener('click', START);
                });
                   //console.log(' ------ */ FINISH OF FUNCTION');
            }
        };
            

    </script>
</body>
</html>